@model QuanLyKhoaCNTTUEF.Models.Plan

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-wrapper">
    <div class="content container-fluid">
        <div class="page-header">
            <div class="row align-items-center">
                <div class="col">
                    <div class="mt-5">
                        <nav aria-label="breadcrumb" class="float-left mt-2" style="font-size: 28px">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Dashboard</a></li>
                                <li class="breadcrumb-item"><a asp-action="Index">@ViewData["Title"]</a></li>
                                <li class="breadcrumb-item text-secondary active" aria-current="page">@Html.DisplayFor(model => model.PlanName)</li>
                            </ol>
                        </nav>
                        <a asp-action="Index" class="btn btn-primary float-right veiwbutton">Quay về</a>
                    </div>
                </div>
            </div>
        </div>
        <dl class="row">
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.PlanName)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.PlanName)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.PresenDate)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.PresenDate)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.ApprovalDate)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.ApprovalDate)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Presenter)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Presenter)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Approver)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Approver)
            </dd>

        </dl>
        <div class="row">
            @{
                if(Model.PdfFiles is not null)
                    foreach(var x in Model.PdfFiles)
                    {
                        var modelId = "exampleModal" + x.Id;
                        var headerId = "exampleModalLabel" + x.Id;
                        <div class="col-sm-4">
                            Tên File : 
                        </div>
                        <div class="col-sm-4">
                        @x.FileName
                        </div>
                        <div class="col-sm-4">
                            <a class="btn btn-outline-primary" data-toggle="modal" data-target="#@modelId">
                                Read now
                            </a>
                        </div>
                        <div class="modal fade" id="@modelId" tabindex="-1" role="dialog" aria-labelledby="@headerId" aria-hidden="true" style="height:100%">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content" style="height: 90%;">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        @*<embed src="@Model.BookPdfUrl" class="w-100"/>*@
                                        <iframe src="@x.FilePath" class="w-100" style="height: 100%"></iframe>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
            }
            
        </div>
    </div>
</div>
